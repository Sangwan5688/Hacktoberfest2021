clc; clear;
%A=[1.2 2.1 -1.1 4.0;-1.1 2.0 3.1 4.9;-2.1 2.2 3.7 16.0;-1.0 -2.3 4.7 12.0];
A=[1.2 2.1 -1.1 4.0;-1.1 2.0 3.1 4.9;-1.0 -2.3 4.7 12.0;-2.1 2.2 3.7 16.0];
B=[5.98;3.89;4.03;12.2];
X=[0;0;0;0];
%X=[1;1;1;1];
x=[0;0;0;0];
err=100; i=1;
while err>0.0001 && i<10000
    x=[B(1,1)/A(1,1);B(2,1)/A(2,2);B(3,1)/A(3,3);B(4,1)/A(4,4)];
    for r=1:4
        for c=1:4
            x(r,1)=x(r,1)-X(c,1)*A(r,c)/A(r,r);
        end
    end
    m=max(abs(x));
    for c=1:4
        if m==abs(x(c,1))
            X(c,1)=X(c,1)+x(c,1);
        end
    end   
    err=100*norm(abs(B-A*X));
    fprintf('%i %1.9f\n',i,err);
    fprintf('%1.9f %1.9f %1.9f %1.9f\n',x(1,1),x(2,1),x(3,1),x(4,1)); 
    fprintf('%1.9f %1.9f %1.9f %1.9f\n',X(1,1),X(2,1),X(3,1),X(4,1));
    i=i+1;
end



